package SQL;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import Beans.Semestre;
import Beans.Sujet;


public class SQLAccueil extends SQL{
	
	

	public SQLAccueil() {
		super();
	}

	public List<Sujet> getSujetsByIdEnseigne( int idEnseigne ) {
		List<Sujet> listeSujets = new ArrayList<Sujet>();
		 try {
	            this.setStatement( this.getConnexion().createStatement() );
	        } catch ( SQLException e ) {
	            System.out.println( "erreur dans la création du statement" );
	            e.printStackTrace();
	        }
	        try {
	            this.setResultat( this.getStatement()
	                    .executeQuery( "SELECT S.NOM "
	                    		+ "FROM SUJET AS S, FORUMMODULE AS FM, FORUM AS F "
	                    		+ "WHERE S.ID_FORUM = FM.ID_FORUM"
	                    		+ "AND FM.ID_FORUM = F.ID_FORUM"
	                    		+ "AND F.ID_ENSEIGNE = " + idEnseigne + ";" ) );
	        } catch ( SQLException e ) {
	            System.out.println( "erreur dans l'execution de la requete SQL" );
	            e.printStackTrace();
	        }
	}
	Select s.nom 
	from sujet as s, forummodule as fm, forum as f
	where s.id_forum = fm.id_forum
	and fm.id_forum = f.id_forum
	and f.id_enseigne = 1
}
